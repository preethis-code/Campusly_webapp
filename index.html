<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Helpdesk Chatbot</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Outfit:wght@300;400;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="auth-container">
        <!-- Login View -->
        <div id="login-view" class="auth-card">
            <h2>Welcome Back</h2>
            <input type="email" id="login-email" placeholder="Email Address" />
            <input type="password" id="login-password" placeholder="Password" />
            <button id="login-btn">Sign In</button>
            <p class="toggle-text">Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
            <p id="login-message" class="auth-message"></p>
        </div>

        <!-- Sign-up View -->
        <div id="signup-view" class="auth-card" style="display:none;">
            <h2>Create Account</h2>
            <input type="email" id="signup-email" placeholder="Email Address" />
            <input type="password" id="signup-password" placeholder="Password" />
            <select id="signup-role" class="auth-select">
                <option value="student">Student</option>
                <option value="admin">Admin</option>
            </select>
            <button id="signup-btn">Sign Up</button>
            <p class="toggle-text">Already have an account? <a href="#" id="show-login">Sign In</a></p>
            <p id="signup-message" class="auth-message"></p>
        </div>
    </div>

    <main id="chat-container" class="chat-container" style="display:none;">
        <div class="background-blobs"></div>
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        </div>

        <!-- CHAT HEADER -->
        <header class="chat-header">
            <div class="header-info">
                <div class="header-title-row">
                    <button id="back-btn" class="icon-btn" title="Back to Dashboard"
                        style="display: none; margin-right: 8px;">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z">
                            </path>
                        </svg>
                    </button>
                    <h2>Student Helpdesk</h2>
                    <span id="user-role-badge" class="role-badge">Student</span>
                </div>
            </div>
            <div class="status-indicator">
                <button id="home-btn" class="icon-btn" title="Back to Dashboard">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path>
                    </svg>
                </button>
                <button id="theme-toggle" class="theme-btn" aria-label="Toggle Dark/Light Mode">
                    <svg class="sun-icon" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor"
                            d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z">
                        </path>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" width="20" height="20" style="display:none;">
                        <path fill="currentColor"
                            d="M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z">
                        </path>
                    </svg>
                </button>
                <span class="dot"></span>
            </div>
            <button id="logout-btn">
                <span>Logout</span>
                <svg viewBox="0 0 24 24" width="16" height="16">
                    <path fill="currentColor"
                        d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42A6.92 6.92 0 0119 12c0 3.87-3.13 7-7 7s-7-3.13-7-7a6.92 6.92 0 012.59-5.41L6.17 5.17A8.99 8.99 0 0012 21c4.97 0 9-4.03 9-9 0-2.49-1.01-4.74-2.67-6.33z">
                    </path>
                </svg>
            </button>
        </header>

        <section class="chat-viewport">
            <!-- DASHBOARD VIEW -->
            <div id="dashboard-view" class="dashboard-section">
                <!-- Hero Header -->
                <div id="hero-header" class="hero-section">
                    <span>Welcome to Campus Assistant</span>
                    <h1>How can we help <br>you today?</h1>
                    <p>Select a category or type your question below.</p>
                </div>

                <!-- Categories Grid -->
                <div id="categories-grid" class="categories-grid">
                    <div class="category-card" data-query="admission">
                        <div class="cat-icon">üìÅ</div>
                        <h3>Admissions</h3>
                        <p>Process & forms</p>
                    </div>
                    <div class="category-card" data-query="exam">
                        <div class="cat-icon">‚úçÔ∏è</div>
                        <h3>Exams</h3>
                        <p>Schedules & results</p>
                    </div>
                    <div class="category-card" data-query="fees">
                        <div class="cat-icon">üí≥</div>
                        <h3>Fees</h3>
                        <p>Payment & structure</p>
                    </div>
                    <div class="category-card" data-query="timetable">
                        <div class="cat-icon">‚è≥</div>
                        <h3>Timetable</h3>
                        <p>Class schedules</p>
                    </div>
                    <div class="category-card" data-query="contact">
                        <div class="cat-icon">üìû</div>
                        <h3>Contact</h3>
                        <p>Office details</p>
                    </div>
                </div>

                <!-- Feedback Box -->
                <div class="feedback-box">
                    <div class="feedback-content">
                        <h4>Help us improve</h4>
                        <p>How was your experience today?</p>
                        <div class="feedback-input-row">
                            <input type="text" id="feedback-text" placeholder="Your thoughts (optional)...">
                            <button id="submit-feedback">Submit</button>
                        </div>
                    </div>
                    <div class="feedback-status" id="feedback-msg"></div>
                </div>
            </div>

            <!-- CHAT VIEW (Hidden by default) -->
            <div id="messages-view" class="messages-section" style="display:none;">
                <section id="chat-messages" class="chat-messages">
                    <!-- Messages will be injected here -->
                </section>

                <!-- Typing Indicator -->
                <div id="typing-indicator" class="typing-indicator" style="display:none;">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
        </section>

        <!-- INPUT AREA -->
        <footer class="chat-input-area">
            <input type="text" id="user-input" placeholder="Type your message..." autocomplete="off">
            <button id="send-button" aria-label="Send message">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                </svg>
            </button>
        </footer>
    </main>

    <script src="script.js"></script>
</body>

</html>